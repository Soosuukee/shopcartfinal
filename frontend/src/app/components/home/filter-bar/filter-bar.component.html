<!-- Recherche -->
<div class="flex-1">
  <label for="search" class="block mb-1 font-medium text-gray-700">
    Rechercher un produit
  </label>
  <input
    type="text"
    id="search"
    class="w-full border border-gray-300 rounded px-3 py-2"
    placeholder="Tapez un nom..."
    (input)="onSearchChange($any($event.target).value)"
  />
</div>

<div class="flex flex-col md:flex-row gap-4 mb-6">
  <!-- Catégories -->
  <div class="flex-1">
    <label for="category" class="block mb-1 font-medium text-gray-700"
      >Catégorie</label
    >
    <select
      id="category"
      class="w-full border border-gray-300 rounded px-3 py-2"
      [(ngModel)]="selectedCategoryId"
      (change)="
        onFilterChange(
          $any($event.target).value,
          undefined,
          undefined,
          undefined,
          undefined
        )
      "
    >
      <option value="">Toutes les catégories</option>
      @for (cat of categories(); track cat.id) {
      <option [value]="cat.id">{{ cat.name }}</option>
      }
    </select>
  </div>

  <!-- Couleurs -->
  <div class="flex-1">
    <label for="color" class="block mb-1 font-medium text-gray-700"
      >Couleur</label
    >
    <select
      id="color"
      class="w-full border border-gray-300 rounded px-3 py-2"
      [(ngModel)]="selectedColorId"
      (change)="
        onFilterChange(
          undefined,
          $any($event.target).value,
          undefined,
          undefined,
          undefined
        )
      "
    >
      <option value="">Toutes les couleurs</option>
      @for (color of colors(); track color.id) {
      <option [value]="color.id">{{ color.name }}</option>
      }
    </select>
  </div>

  <!-- Matériaux -->
  <div class="flex-1">
    <label for="material" class="block mb-1 font-medium text-gray-700"
      >Matériau</label
    >
    <select
      id="material"
      class="w-full border border-gray-300 rounded px-3 py-2"
      [(ngModel)]="selectedMaterialId"
      (change)="
        onFilterChange(
          undefined,
          undefined,
          $any($event.target).value,
          undefined,
          undefined
        )
      "
    >
      <option value="">Tous les matériaux</option>
      @for (mat of materials(); track mat.id) {
      <option [value]="mat.id">{{ mat.name }}</option>
      }
    </select>
  </div>

  <!-- Tri par prix -->
  <div class="flex-1">
    <label for="sortPrice" class="block mb-1 font-medium text-gray-700"
      >Trier par prix</label
    >
    <select
      id="sortPrice"
      class="w-full border border-gray-300 rounded px-3 py-2"
      [(ngModel)]="sortPrice"
      (change)="
        onFilterChange(
          undefined,
          undefined,
          undefined,
          $any($event.target).value,
          undefined
        )
      "
    >
      <option value="">Aucun tri</option>
      <option value="asc">Prix croissant</option>
      <option value="desc">Prix décroissant</option>
    </select>
  </div>

  <!-- Produits promus -->
  <div class="flex items-center mt-6">
    <input
      type="checkbox"
      id="promoted"
      class="mr-2"
      [(ngModel)]="showPromoted"
      (change)="
        onFilterChange(undefined, undefined, undefined, undefined, showPromoted)
      "
    />
    <label for="promoted" class="font-medium text-gray-700"
      >Afficher uniquement les produits en promotion</label
    >
  </div>
</div>
